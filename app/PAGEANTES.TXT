"use client";

import Image from "next/image";
import { Zap, Network, ShieldCheck, Code, Snowflake } from "lucide-react";
import useInView from "./hooks/useInView";
import { useState } from "react";

export default function Home() {
  const [heroRef, heroVisible] = useInView();
  const [servicesRef, servicesVisible] = useInView();
  const [whyRef, whyVisible] = useInView();
  const [contactRef, contactVisible] = useInView();

  const [selectedService, setSelectedService] = useState(null);
  const [currentImage, setCurrentImage] = useState(0);

  // Im√°genes SOLO para este servicio por ahora
  const serviceImages = {
    "Aires Acondicionados y Climatizaci√≥n": [
      "/servicios/aire1.webp",
      "/servicios/aire2.jpg",
      "/servicios/aire3.jpg",
    ],
  };

  return (
    <main className="bg-black text-white">

      {/* HERO */}
      <section
        ref={heroRef}
        className={`scroll-mt-28 min-h-screen flex flex-col justify-center text-center px-4 reveal ${
          heroVisible ? "reveal-visible" : ""
        }`}
      >
        <div id="inicio" className="scroll-mt-28">
          <div className="max-w-4xl mx-auto">
            <div className="flex justify-center mb-6">
              <Image
                src="/uno.png"
                alt="Logo corporativo de Softsolution E.U."
                width={200}
                height={200}
                priority
                sizes="(max-width: 768px) 160px, 200px"
              />
            </div>

            <h1 className="text-3xl sm:text-4xl md:text-6xl font-extrabold tracking-wide mb-6">
              Softsolution E.U.
            </h1>

            <h2 className="text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight mb-4">
              Ingenier√≠a, Tecnolog√≠a y Soluciones Integrales
            </h2>

            <p className="text-base sm:text-lg md:text-xl text-gray-300 mb-10 leading-relaxed">
              En <strong className="text-white">Softsolution E.U.</strong> ofrecemos
              servicios profesionales en <strong>electricidad residencial, comercial
              e industrial</strong>, <strong>telecomunicaciones y redes</strong>,
              <strong> sistemas de seguridad electr√≥nica</strong> y
              <strong> desarrollo de software</strong>, abarcando desde el
              <strong> estudio t√©cnico y suministro</strong> hasta la
              <strong> instalaci√≥n, puesta en marcha y mantenimiento integral</strong>.
              <strong> Sistemas de climatizaci√≥n residenciales, comerciales e industriales</strong>.
            </p>

            <a
              href="/cotizacion"
              className="inline-block px-10 py-4 bg-red-700 font-semibold rounded-xl
              hover:bg-red-800 hover:scale-105 transition-transform duration-300"
            >
              Solicitar cotizaci√≥n
            </a>
          </div>
        </div>
      </section>

      {/* SERVICIOS */}
      <section
        ref={servicesRef}
        className={`scroll-mt-28 w-full bg-black py-14 px-6 reveal ${
          servicesVisible ? "reveal-visible" : ""
        }`}
      >
        <div id="servicios" className="scroll-mt-28">
          <div className="max-w-6xl mx-auto">
            <h2 className="text-3xl md:text-4xl font-extrabold text-center mb-10">
              Nuestros Servicios
            </h2>

            <div className="grid gap-8 sm:grid-cols-2">
              {[
                {
                  icon: Zap,
                  title: "Electricidad",
                  text: "Soluciones el√©ctricas residenciales, comerciales e industriales: estudios t√©cnicos, suministro de materiales, instalaci√≥n, adecuaciones, puesta en marcha y mantenimiento preventivo y correctivo."
                },
                {
                  icon: Network,
                  title: "Telecomunicaciones y Redes",
                  text: "Dise√±o e implementaci√≥n de redes LAN/WAN, cableado estructurado, fibra √≥ptica, enlaces satelitales, transmisi√≥n de datos y certificaci√≥n de infraestructura."
                },
                {
                  icon: ShieldCheck,
                  title: "Sistemas de Seguridad",
                  text: "Sistemas de CCTV, monitoreo, control de acceso y alarmas, desde la cotizaci√≥n y suministro hasta la instalaci√≥n y mantenimiento."
                },
                {
                  icon: Code,
                  title: "Desarrollo de Software",
                  text: "Creaci√≥n de p√°ginas web y soluciones de software a medida, desde el an√°lisis y dise√±o hasta la implementaci√≥n, puesta en marcha y soporte continuo."
                },
                {
                  icon: Snowflake,
                  title: "Aires Acondicionados y Climatizaci√≥n",
                  text: "Suministro, instalaci√≥n y mantenimiento preventivo y correctivo de sistemas de aire acondicionado residenciales, comerciales, industriales y de precisi√≥n, garantizando confort t√©rmico, eficiencia energ√©tica y operaci√≥n confiable."
                }
              ].map(({ icon: Icon, title, text }) => (
                <div
                  key={title}
                  onClick={() => {
                    setCurrentImage(0);
                    setSelectedService({ icon: Icon, title, text });
                  }}
                  className={`bg-neutral-900/60 border border-gray-800 rounded-xl p-6 card-hover cursor-pointer
                    ${title === "Aires Acondicionados y Climatizaci√≥n"
                      ? "sm:col-span-2 max-w-3xl mx-auto"
                      : ""
                    }`}
                >
                  <h3 className="text-xl font-bold mb-3 flex items-center gap-3">
                    <Icon className="text-red-600 w-6 h-6" />
                    {title}
                  </h3>
                  <p className="text-gray-300 leading-relaxed text-justify hyphens-auto">
                    {text}
                  </p>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* POR QU√â */}
      <section
        ref={whyRef}
        className={`scroll-mt-28 w-full bg-black py-14 px-6 reveal ${
          whyVisible ? "reveal-visible" : ""
        }`}
      >
        <div id="porque" className="scroll-mt-28">
          <div className="max-w-6xl mx-auto">
            <h2 className="text-3xl md:text-4xl font-extrabold text-center mb-10">
              ¬øPor qu√© elegir Softsolution E.U.?
            </h2>

            <div className="grid gap-10 sm:grid-cols-2">
              {[
                ["Experiencia t√©cnica integral", "Contamos con experiencia en proyectos de ingenier√≠a el√©ctrica, telecomunicaciones, seguridad electr√≥nica y desarrollo de software."],
                ["Soluciones a la medida", "Analizamos cada proyecto de forma personalizada, ajust√°ndonos a los requerimientos t√©cnicos y presupuestales."],
                ["Cobertura integral", "Acompa√±amos todo el proceso: estudio, suministro, instalaci√≥n, puesta en marcha y mantenimiento."],
                ["Compromiso y cumplimiento", "Trabajamos bajo altos est√°ndares de calidad, seguridad y cumplimiento."]
              ].map(([title, text]) => (
                <div key={title}>
                  <h3 className="text-xl font-bold mb-2">{title}</h3>
                  <p className="text-gray-300 leading-relaxed text-justify hyphens-auto">
                    {text}
                  </p>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* CONTACTO */}
      <section
        ref={contactRef}
        className={`scroll-mt-28 w-full bg-linear-to-b from-black via-neutral-900 to-black py-20 px-6 reveal ${
          contactVisible ? "reveal-visible" : ""
        }`}
      >
        <div id="contacto" className="scroll-mt-28">
          <div className="max-w-4xl mx-auto text-center">
            <div className="w-24 h-1 bg-red-600 mx-auto mb-8 rounded-full" />

            <h2 className="text-3xl md:text-4xl font-extrabold mb-6">
              ¬øListo para iniciar tu proyecto?
            </h2>

            <p className="text-lg md:text-xl text-gray-300 mb-8 leading-relaxed">
              En <strong className="text-white">Softsolution E.U.</strong> estamos listos
              para acompa√±arte desde la idea hasta la ejecuci√≥n.
            </p>

            <div className="flex flex-col sm:flex-row justify-center gap-6 mb-10">
              <a
                href="/cotizacion"
                className="inline-block px-10 py-4 bg-red-700 font-semibold rounded-xl
                hover:bg-red-800 hover:scale-105 transition-transform duration-300"
              >
                Solicitar cotizaci√≥n
              </a>

              <a
                href="https://wa.me/573153411850?text=Hola%20Softsolution%20E.U.%20quiero%20una%20cotizaci√≥n"
                target="_blank"
                rel="noopener noreferrer"
                className="px-10 py-4 border border-gray-700 font-semibold
                rounded-xl hover:border-red-600 hover:scale-105 transition-transform duration-300"
              >
                Contactar por WhatsApp
              </a>
            </div>

            <div className="mx-auto max-w-md text-center">
              <p className="text-gray-500 text-sm mb-4">
                Atenci√≥n personalizada ‚Ä¢ Respuesta r√°pida ‚Ä¢ Cotizaci√≥n sin costo
              </p>
              <p className="text-gray-500 text-sm mb-4">
                CEO DEYVIS FABIANY CRUZ CARVAJAL
              </p>
              <div className="text-gray-400 text-sm space-y-1">
                <p>üìß softsolution.eu.software@gmail.com</p>
                <p>üìç Bucaramanga / Santander / Colombia</p>
                <p>üåê https://softsolution-web.vercel.app/</p>
                <p>üìû +57 315 341 1850</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* MODAL */}
      {selectedService && (
        <div
          className="fixed inset-0 z-50 bg-black/80 flex items-center justify-center px-4"
          onClick={() => setSelectedService(null)}
        >
          <div
            className="relative bg-neutral-900 border border-gray-700 rounded-2xl max-w-3xl w-full p-8 animate-fadeIn"
            onClick={(e) => e.stopPropagation()}
          >
            <button
              onClick={() => setSelectedService(null)}
              className="absolute top-4 right-4 text-gray-400 hover:text-red-500 text-xl"
            >
              ‚úï
            </button>

            <div className="flex items-center gap-3 mb-6">
              <selectedService.icon className="w-7 h-7 text-red-600" />
              <h3 className="text-2xl font-extrabold">
                {selectedService.title}
              </h3>
            </div>

            {serviceImages[selectedService.title] ? (
              <div className="relative mb-6">
                <Image
                  src={serviceImages[selectedService.title][currentImage]}
                  alt={selectedService.title}
                  width={800}
                  height={400}
                  className="rounded-xl object-cover w-full h-52"
                />

                <button
                  onClick={() =>
                    setCurrentImage((prev) =>
                      prev === 0
                        ? serviceImages[selectedService.title].length - 1
                        : prev - 1
                    )
                  }
                  className="absolute left-3 top-1/2 -translate-y-1/2 bg-black/60 hover:bg-black/80 text-white px-3 py-2 rounded-full"
                >
                  ‚Äπ
                </button>

                <button
                  onClick={() =>
                    setCurrentImage((prev) =>
                      prev === serviceImages[selectedService.title].length - 1
                        ? 0
                        : prev + 1
                    )
                  }
                  className="absolute right-3 top-1/2 -translate-y-1/2 bg-black/60 hover:bg-black/80 text-white px-3 py-2 rounded-full"
                >
                  ‚Ä∫
                </button>
              </div>
            ) : (
              <div className="h-52 bg-neutral-800 rounded-xl flex items-center justify-center text-gray-500 mb-6">
                Carrusel de im√°genes del servicio
              </div>
            )}

            <p className="text-gray-300 leading-relaxed text-justify">
              {selectedService.text}
            </p>
          </div>
        </div>
      )}

    </main>
  );
}
